import{p as X}from"./props.BdoDH8iw.js";import{I as ta,a7 as sa,u as z,a8 as na,t as ra,w as oa,a9 as la,aa as C,ab as D,ac as E,a6 as F,a2 as G,ad as l,ae as c,af as O,ag as I,ah as f,ai as b,aj as P,ak as m,al as ca,o as k,L}from"./snippet.BiVP1OAP.js";import{i as ia,s as p}from"./class.DyBlyJuK.js";/* empty css                       */function da(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function J(e){ta===null&&da(),sa(()=>{const a=z(e);if(typeof a=="function")return a})}function V(e,a){return e===a||e?.[la]===a}function fa(e={},a,r,i){return na(()=>{var d,n;return ra(()=>{d=n,n=[],z(()=>{e!==r(...n)&&(a(e,...n),d&&V(r(...d),e)&&a(null,...d))})}),()=>{oa(()=>{n&&V(r(...n),e)&&a(null,...n)})}}),e}var ua=D('<button class="items-center" aria-label="Toggle dark theme"><!></button>');function va(e,a){G(a,!0);let r=X(a,"dark",15,!1);function i(s){let t=r(s)?"dark":"light";document.documentElement.dataset.theme=t,localStorage.setItem("theme",t)}function d(s){const t=()=>i(!r());let o;if(!(o=document.startViewTransition?.(t)))return t();const x=s.clientX,v=s.clientY;o.ready.then(()=>{const g=[`circle(0% at ${x}px ${v}px)`,`circle(130% at ${x}px ${v}px)`];document.documentElement.animate({clipPath:r()?[...g].reverse():g},{duration:400,easing:"ease-in",fill:"forwards",pseudoElement:r()?"::view-transition-old(root)":"::view-transition-new(root)"})})}J(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),t=localStorage.getItem("theme");i(t?t=="dark":s.matches),s.addEventListener("change",({matches:o})=>i(o))});var n=ua();n.__click=d;var h=l(n);{var w=s=>{var t=O(),o=I(t);f(o,()=>a.moon),E(s,t)},u=s=>{var t=O(),o=I(t);f(o,()=>a.sun),E(s,t)};ia(h,s=>{r()?s(w):s(u,!1)})}c(n),E(e,n),F()}C(["click"]);var ma=(e,a)=>b(a,!1),_a=(e,a)=>b(a,!1),ha=(e,a)=>b(a,!0),ga=D('<div role="button"></div> <nav><header class="grid gap-5 c-secondary grid-rows-[repeat(5,1fr)] sm:grid-rows-none sm:grid-cols-[repeat(4,1fr)] svelte-ja5klc"><button class="sm:hidden"><!></button> <a href="/"><span class="svelte-ja5klc"><!></span> <p class="svelte-ja5klc">Home</p></a> <a href="/note"><span class="svelte-ja5klc"><!></span> <p class="svelte-ja5klc">Note</p></a> <a href="/about"><span class="svelte-ja5klc"><!></span> <p class="svelte-ja5klc">About</p></a></header> <footer class="flex flex-col gap-2 sm:gap-5 sm:flex-row sm:gap-7 svelte-ja5klc"><!> <a href="/feed.xml" target="_blank" aria-label="Subscription" class="inline-flex svelte-ja5klc"><!></a></footer></nav> <button class="sm:hidden"><!></button>',1);function xa(e,a){G(a,!0);let r=X(a,"route",7),i=P(!1),d=P(void 0);J(()=>{for(const T of k(d).getElementsByTagName("a"))T.addEventListener("click",()=>b(i,!1));const _=()=>r(window.location.pathname);window.swup?window.swup.hooks.on("page:load",_):document.addEventListener("swup:enable",()=>window.swup?.hooks.on("page:load",_))});var n=ga(),h=I(n);h.__click=[ma,i];let w;var u=m(h,2);let s;var t=l(u),o=l(t);o.__click=[_a,i];var x=l(o);f(x,()=>a.close),c(o);var v=m(o,2);let g;var M=l(v),K=l(M);f(K,()=>a.home),c(M),L(2),c(v);var j=m(v,2);let N;var A=l(j),Q=l(A);f(Q,()=>a.note),c(A),L(2),c(j);var y=m(j,2);let B;var W=l(y),R=l(W);f(R,()=>a.about),c(W),L(2),c(y),c(t);var Y=m(t,2),q=l(Y);va(q,{get sun(){return a.sun},get moon(){return a.moon}});var H=m(q,2),U=l(H);f(U,()=>a.rss),c(H),c(Y),c(u),fa(u,_=>b(d,_),()=>k(d));var S=m(u,2);S.__click=[ha,i];var Z=l(S);f(Z,()=>a.bars),c(S),ca((_,T,$,aa,ea)=>{w=p(h,1,"fixed top-0 left-0 w-screen h-screen pointer-events-auto bg-#aaaaaa88 transition-background-color sm:hidden",null,w,_),s=p(u,1,"fixed top-0 right-0 flex flex-col justify-between items-start gap-5 p-5 bg-background h-full sm:contents overflow-hidden transition-transform svelte-ja5klc",null,s,T),g=p(v,1,"svelte-ja5klc",null,g,$),N=p(j,1,"svelte-ja5klc",null,N,aa),B=p(y,1,"svelte-ja5klc",null,B,ea)},[()=>({"pointer-events-none":!k(i),"bg-transparent":!k(i)}),()=>({"transform-translate-x-full":!k(i)}),()=>({location:r()==="/"}),()=>({location:r().startsWith("/note")}),()=>({location:r().startsWith("/about")})]),E(e,n),F()}C(["click"]);export{xa as default};
